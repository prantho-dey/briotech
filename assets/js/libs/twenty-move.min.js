!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){function n(t){function e(t){a?(n(),A(e),i=!0,a=!1):i=!1}var n=t,a=!1,i=!1;this.kick=function(t){a=!0,i||e()},this.end=function(t){var e=n;t&&(i?(n=a?function(){e(),t()}:t,a=!0):t())}}function a(){return!0}function i(){return!1}function o(t){t.preventDefault()}function r(t){D[t.target.tagName.toLowerCase()]||t.preventDefault()}function u(t,e){var n,a;if(t.identifiedTouch)return t.identifiedTouch(e);for(n=-1,a=t.length;++n<a;)if(t[n].identifier===e)return t[n]}function c(t,e){var n=u(t.changedTouches,e.identifier);if(n&&(n.pageX!==e.pageX||n.pageY!==e.pageY))return n}function d(t){g(t,t.data,t,f)}function m(t){f()}function f(){_(document,F.move,d),_(document,F.cancel,m)}function s(t){var e=t.data,n=c(t,e);n&&g(t,e,n,p)}function v(t){var e=t.data;u(t.changedTouches,e.identifier)&&p(e.identifier)}function p(t){_(document,"."+t,s),_(document,"."+t,v)}function g(t,e,n,a){var i=n.pageX-e.startX,o=n.pageY-e.startY;S*S>i*i+o*o||function(t,e,n,a,i,o){var r,u;e.target,r=t.targetTouches,u=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=a,e.distY=i,e.deltaX=a,e.deltaY=i,e.pageX=n.pageX,e.pageY=n.pageY,e.velocityX=a/u,e.velocityY=i/u,e.targetTouches=r,e.finger=r?r.length:1,e._handled=h,e._preventTouchmoveDefault=function(){t.preventDefault()},q(e.target,e),o(e.identifier)}(t,e,n,i,o,a)}function h(){return this._handled=a,!1}function l(t){t._handled()}function X(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function Y(t){var e=t.data.event,n=t.data.timer;_(document,F.move,X),_(document,F.end,Y),T(e,n,function(){setTimeout(function(){_(e.target,"click",i)},0)})}function w(t){var e=t.data.event,n=t.data.timer,a=c(t,e);a&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=a,t.data.timeStamp=t.timeStamp,n.kick())}function y(t){var e=t.data.event,n=t.data.timer;u(t.changedTouches,e.identifier)&&(function(t){_(document,"."+t.identifier,w),_(document,"."+t.identifier,y)}(e),T(e,n))}function T(t,e,n){e.end(function(){return t.type="moveend",q(t.target,t),n&&n()})}var S=6,k=t.event.add,_=t.event.remove,q=function(e,n,a){t.event.trigger(n,a,e)},A=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(function(){t()},25)},D={textarea:!0,input:!0,select:!0,button:!0},F={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},R={move:"touchmove",cancel:"touchend",end:"touchend"};t.event.special.movestart={setup:function(t,e,n){return k(this,"movestart.move",l),!0},teardown:function(t){return _(this,"dragstart drag",o),_(this,"mousedown touchstart",r),_(this,"movestart",l),!0},add:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(k(this,"dragstart."+t.guid+" drag."+t.guid,o,e,t.selector),k(this,"mousedown."+t.guid,r,e,t.selector))},remove:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(_(this,"dragstart."+t.guid+" drag."+t.guid),_(this,"mousedown."+t.guid))},_default:function(t){var a,o;t._handled()&&(a={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},o={event:a,timer:new n(function(e){(function(t,e,n){var a=n-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/a,t.velocityY=.3*t.velocityY+.7*t.deltaY/a,t.pageX=e.pageX,t.pageY=e.pageY})(a,o.touch,o.timeStamp),q(t.target,a)}),touch:e,timeStamp:e},t.identifier===e?(k(t.target,"click",i),k(document,F.move,X,o),k(document,F.end,Y,o)):(t._preventTouchmoveDefault(),k(document,R.move+"."+t.identifier,w,o),k(document,R.end+"."+t.identifier,y,o)))}},t.event.special.move={setup:function(){k(this,"movestart.move",t.noop)},teardown:function(){_(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){k(this,"movestart.moveend",t.noop)},teardown:function(){_(this,"movestart.moveend",t.noop)}},k(document,"mousedown.move",function(t){var e;(function(t){return 1===t.which&&!t.ctrlKey&&!t.altKey})(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},k(document,F.move,d,e),k(document,F.cancel,m,e))}),k(document,"touchstart.move",function(t){var e,n;D[t.target.tagName.toLowerCase()]||(n={target:(e=t.changedTouches[0]).target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},k(document,R.move+"."+e.identifier,s,n),k(document,R.cancel+"."+e.identifier,v,n))}),"function"==typeof Array.prototype.indexOf&&function(t){for(var e=["changedTouches","targetTouches"],n=e.length;n--;)-1===t.event.props.indexOf(e[n])&&t.event.props.push(e[n])}(t)});